# Environment Variables
# Copy this file to .env.local and fill in your actual values
# 
# âœ… COMPLETED: All variables have been configured with actual values
# - Supabase database credentials added
# - Yahoo Fantasy Sports API credentials configured
# - Cron secret generated and set

# ============================================
# SUPABASE DATABASE CONNECTION STRINGS
# ============================================
# Supabase provides three types of connection strings. See official docs:
# https://supabase.com/docs/guides/database/connecting-to-postgres#connection-pooler
#
# IMPORTANT: When using Transaction Pooler (port 6543) for DATABASE_URL,
# you MUST provide DIRECT_URL for Prisma migrations to work.
#
# Replace [YOUR_PASSWORD] with your actual Supabase database password
# Replace [PROJECT_REF] with your Supabase project reference (e.g., zxusegcsddswdwudkgcc)
# Replace [REGION] with your AWS region (e.g., us-east-2)
# Note: Hostname may be aws-0 or aws-1 depending on your region

# ============================================
# CONNECTION TYPE 1: Direct Database Connection
# ============================================
# Format: postgresql://postgres:[password]@db.[project-ref].supabase.co:5432/postgres
# Use for: Direct database access, migrations (if not using pooler)
# Note: This is the simplest connection but doesn't support connection pooling
# DATABASE_URL_DIRECT="postgresql://postgres:[YOUR_PASSWORD]@db.zxusegcsddswdwudkgcc.supabase.co:5432/postgres"

# ============================================
# CONNECTION TYPE 2: Transaction Pooler (RECOMMENDED FOR PRODUCTION)
# ============================================
# Format: postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true
# Use for: DATABASE_URL in production (Vercel, serverless functions)
# Benefits: Connection pooling, better for serverless environments
# IMPORTANT: When using this, you MUST set DIRECT_URL (see below)
DATABASE_URL="postgresql://postgres.zxusegcsddswdwudkgcc:[YOUR_PASSWORD]@aws-1-us-east-2.pooler.supabase.com:6543/postgres?pgbouncer=true"

# ============================================
# CONNECTION TYPE 3: Session Pooler (FOR DIRECT_URL)
# ============================================
# Format: postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres?sslmode=require
# Use for: DIRECT_URL when DATABASE_URL uses Transaction Pooler
# Required: MUST be set when DATABASE_URL uses Transaction Pooler (port 6543)
# Note: Do NOT include ?pgbouncer=true for Session Pooler
# Note: MUST include ?sslmode=require for SSL connection (required by Supabase)
# Alternative: You can also use Direct Database connection (Type 1) for DIRECT_URL
DIRECT_URL="postgresql://postgres.zxusegcsddswdwudkgcc:[YOUR_PASSWORD]@aws-1-us-east-2.pooler.supabase.com:5432/postgres?sslmode=require"

# ============================================
# CONNECTION STRATEGY SUMMARY
# ============================================
# For Production (Vercel/Serverless):
#   - DATABASE_URL: Use Transaction Pooler (port 6543, with ?pgbouncer=true)
#   - DIRECT_URL: Use Session Pooler (port 5432, NO ?pgbouncer=true) OR Direct Database
#
# For Local Development:
#   - DATABASE_URL: Can use Transaction Pooler (same as production) OR Direct Database
#   - DIRECT_URL: REQUIRED if DATABASE_URL uses Transaction Pooler
#
# Prisma Migrations:
#   - Always use DIRECT_URL (Session Pooler or Direct Database)
#   - Migrations will fail if DIRECT_URL uses Transaction Pooler (port 6543)
#
# Get your connection strings from: Supabase Dashboard > Settings > Database
# Official Prisma + Supabase guide: https://www.prisma.io/docs/guides/deployment/deployment-guides/deploying-to-supabase

# ============================================
# YAHOO FANTASY SPORTS API
# ============================================
# Get these from: https://developer.yahoo.com/apps/
YAHOO_CLIENT_ID="your-yahoo-client-id"
YAHOO_CLIENT_SECRET="your-yahoo-client-secret"
YAHOO_REFRESH_TOKEN="your-yahoo-refresh-token"

# ============================================
# YAHOO API TESTING (Optional)
# ============================================
# Test league for development/testing
YAHOO_TEST_LEAGUE_KEY="427.l.16794"
# Sync mode: "production" or "test" for development
YAHOO_SYNC_MODE="production"

# ============================================
# CRON JOB SECURITY
# ============================================
# Generate a random secret: openssl rand -base64 32
CRON_SECRET="your-random-cron-secret"

# ============================================
# OPTIONAL: NEXTAUTH (if you add authentication)
# ============================================
# NEXTAUTH_URL="http://localhost:3000"
# NEXTAUTH_SECRET="your-nextauth-secret"

# ============================================
# TWILIO WHATSAPP NOTIFICATIONS
# ============================================
# Get these from: https://www.twilio.com/console
# TWILIO_ACCOUNT_SID="your-twilio-account-sid"
# TWILIO_AUTH_TOKEN="your-twilio-auth-token"
# TWILIO_WHATSAPP_NUMBER="whatsapp:+14155238886"  # Your Twilio WhatsApp number
# WHATSAPP_GROUP_ID="YOUR_GROUP_ID_HERE"  # League WhatsApp group ID (see TWILIO_SETUP.md)
# NOTIFICATIONS_ENABLED="false"  # Set to "true" to enable notifications
# DRY_RUN="false"  # Set to "true" to test without actually sending messages
# NOTIFICATION_THROTTLE_MAX="10"  # Max notifications per sync (default: 10)

# ============================================
# OPENAI AI SUMMARIES (Phase 2 - Optional)
# ============================================
# Get API key from: https://platform.openai.com/api-keys
# OPENAI_API_KEY="your-openai-api-key"
# OPENAI_MODEL="gpt-5-nano"  # Model to use (default: gpt-5-nano for cost efficiency)
# AI_SUMMARIES_ENABLED="false"  # Set to "true" to enable AI weekly summaries
# AI_SUMMARY_DAY="monday"  # Day of week to send summaries (default: monday)
# AI_SUMMARY_TIMEZONE="UTC"  # Timezone for day calculation (default: UTC)
